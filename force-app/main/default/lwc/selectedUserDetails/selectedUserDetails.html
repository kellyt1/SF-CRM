<template>

    <lightning-card>
        <div class="slds-p-around_medium lgc-bg">
            <lightning-input name="userInput" type="text" label="Enter the user to display their skill and queue set-up for" onchange={handleInput}
            class="formInput">></lightning-input>
        </div>
        <div>
            <lightning-button
                class="slds-m-around_medium"
                variant="brand"
                slot="actions"
                label="Search"
                onclick={searchUsers}>
            </lightning-button>
        </div>
    <template if:true={userSearchResult}>
        <div class="slds-p-around_small">
            <lightning-datatable
                data={users}
                columns={columns}
                key-field="Id"
                onrowselection={getSelectedId}
            >
            </lightning-datatable>
        </div>
        <div>
            <lightning-button
                class="slds-m-around_medium"
                variant="brand"
                slot="actions"
                label="Find Skills and Queue Assignments"
                disabled={disableUserSearch}
                onclick={getSkillsAndGroups}>
            </lightning-button>
        </div>
    </template>
    <template if:true={userSelected}>
        <div class="slds-m-bottom_small" style="text-align: center">
        </div>

        <div class="slds-m-bottom_small">
            <p class="slds-p-horizontal_small">
                <strong><u>Current Queue Assignments: </u></strong>
                <template
                    for:each={currentRegions}
                    for:item="currentRegion"
                >
                    <div key={currentRegion.Id} class="slds-m-left_large">
                        {currentRegion.queueName}
                    </div>
                </template>
            </p>
        </div>

        <div class="slds-m-bottom_small">
            <p class="slds-p-horizontal_small">
                <strong><u>Current Skill Assignments: </u></strong>
                <!-- Since we can have multiple Skills per User, we need to iterate over each unique SkillId to return all Skills for the logged in User -->
                <template
                    for:each={currentSkills}
                    for:item="currentSkill"
                >
                    <!-- Using a key to uniquely identify and return each individual skill for a user -->
                    <div
                        key={currentSkills.Id} class="slds-m-left_large">
                        {currentSkill.skillName}
                    </div>
                </template>
            </p>
        </div>
        <div class="slds-align_absolute-center">
            <lightning-button
                class="slds-m-around_medium"
                variant="brand"
                slot="actions"
                label="New Search"
                onclick={newSearch}>
            </lightning-button>
        </div>
    </template>
</lightning-card>
</template>